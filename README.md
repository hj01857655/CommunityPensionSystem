# 社区养老系统 (Community Pension System)

## 项目定位
这是一个基于Spring Boot 3和Vue 3开发的社区养老管理系统，作为毕业设计项目。本系统采用前后端分离架构，实现了基础的社区养老服务功能，包括用户管理、服务预约、活动管理等核心功能。项目适合作为学习Spring Boot和Vue的实践项目，也适合作为毕业设计展示。

## 开发者信息
- 开发者：在校大学生
- 开发目的：毕业设计
- 开发周期：1个月
- 技术特点：
  - 采用主流技术栈，注重基础功能实现
  - 代码结构清晰，便于维护
  - 适合作为学习Spring Boot和Vue的实践项目
- 项目亮点：
  - 基础的用户权限管理
  - 简单的服务预约功能
  - 基础的社区活动管理
  - 清晰的项目文档

## 项目介绍
基于 Spring Boot 3 和 Vue 3 的前后端分离架构社区养老管理系统。本系统旨在为社区老年人提供便捷的养老服务管理平台，包括基础健康记录、服务预约、活动管理等功能，提升社区养老服务质量和管理效率。

## 应用

### 一、前台门户（老人/家属端）

1. 用户中心：登录/注册、个人信息管理、紧急联系人维护。
2. 服务预约：浏览服务、在线预约、查看预约进度和历史。
3. 健康档案：录入和查看健康信息，便于家属和社区及时了解老人健康。
4. 社区活动：浏览活动、在线报名、查看参与记录。
5. 消息中心：查看社区通知公告和系统消息。

### 二、后台管理（管理员/社区工作人员端）

1. 用户与权限管理：管理所有用户账号、分配角色与权限。
2. 服务预约管理：管理服务项目、审核预约、统计服务使用。
3. 健康档案管理：查看和管理健康档案，支持数据导入导出。
4. 社区活动管理：发布/编辑活动、管理报名、统计参与情况。
5. 系统设置与数据备份：配置系统信息，一键备份/恢复数据库，管理字典数据。

### 三、典型应用场景

- 社区日常运营：工作人员通过后台管理系统提升服务效率。
- 老人及家属自助服务：前台门户自助预约、报名、查健康。
- 数据安全保障：管理员定期备份数据，支持一键恢复。

## 项目特色
- 基础健康记录：支持简单的健康信息录入和查看
- 便捷服务预约：提供在线服务预约功能
- 活动管理：支持社区活动发布和报名
- 权限管理：基于RBAC的基础权限控制
- **服务工单全流程管理**：支持工单的接单、开始服务、完成服务、取消、拒绝等全流程状态流转，所有操作均有权限和状态校验。
- **服务评价管理**：支持服务评价的查询、筛选、回复、删除等，前后端参数完全对齐，支持多条件筛选。
- **通知公告管理**：支持通知的发布、编辑、删除、预览，支持富文本编辑和多角色可见性。
- **健康档案与监测**：支持健康数据的录入、趋势图展示、历史记录查询。
- **前后端接口参数严格对齐**：所有接口参数名、类型、必填项与后端保持一致，避免因参数不一致导致的 400 错误。

## 技术架构

### 关键技术实现
- 基础数据统计
- RBAC权限控制
- 服务预约管理
- 健康记录管理
- **状态管理**：全站采用 Pinia 进行状态管理，所有业务数据（如工单、服务、评价、通知等）均通过 store 统一管理，避免页面直接操作 API，提升可维护性。
- **接口调用规范**：所有 API 层方法参数与后端接口严格一致，POST/GET 参数传递方式与后端注解（@RequestParam/@RequestBody）完全对齐。
- **错误处理**：所有接口调用均有错误捕获和用户友好提示，便于定位和修复问题。
- **表格操作列动态渲染**：根据业务状态动态显示操作按钮，提升用户体验。

### 后端技术栈
- **核心框架**: Spring Boot 3.x
- **数据库**: MySQL 8.4.0
- **ORM框架**: MyBatis Plus
- **工具集**: 
  - Lombok: 简化开发
  - Swagger OpenAPI 3: 接口文档
  - State Machine: 状态流转
  - JWT: 身份认证
  - Redis: 缓存服务

### 前端技术栈
- **核心框架**: Vue 3 (JavaScript)
- **路由管理**: Vue Router 4
- **状态管理**: Pinia
- **UI框架**: Element Plus
- **HTTP客户端**: Axios
- **图表库**: ECharts 5
- **构建工具**: Vite
- **包管理器**: Yarn

## 项目结构

### 数据库初始化与备份说明

#### 数据库初始化
- 数据库文件位于 `community-pension-admin/src/main/resources/static/sql/community_pension.sql`
- 使用 MySQL 8.4.0 创建数据库并导入上述 SQL 文件

#### 数据备份与恢复
- 后台管理 > 系统管理 > 系统设置 页面支持一键备份和恢复数据库
- 备份文件可下载、删除，恢复操作需输入管理员密码
- 备份文件默认存储在服务器 `/backup` 目录（可在配置文件中修改）

### 账号与权限说明

- 系统初始管理员账号、密码（如有默认值请注明）
- 角色权限说明：
  - 老人：仅能访问前台门户，管理个人信息、健康档案、预约服务、参与活动等
  - 家属：可绑定老人，协助管理健康信息、预约服务、参与活动等
  - 社区工作人员：可管理部分后台数据，如服务、活动、健康档案等
  - 管理员：拥有全部后台管理权限，包括用户、角色、菜单、字典、系统设置、数据备份等

### 常见问题（FAQ）

- 启动时报错怎么办？
  - 检查JDK、Node.js、MySQL、Redis等环境是否安装并配置正确
  - 检查数据库连接信息是否正确，数据库是否已初始化
- 前后端端口如何配置？
  - 后端端口可在`application.yml`中配置，前端端口可在`vite.config.ts`中配置
- 如何修改数据库连接信息？
  - 修改`community-pension-admin/src/main/resources/application.yml`中的数据库相关配置
- 如何自定义系统Logo和名称？
  - 登录后台管理 > 系统管理 > 系统设置 页面进行修改

### 代码贡献与开发建议

- 代码风格建议遵循Java和Vue社区主流规范
- 推荐每个功能模块单独分支开发，合并前自测
- 重要数据请勿直接在生产环境测试，建议定期备份数据库
- 提交代码前请确保无明显Bug和安全隐患

### 其他补充

- 推荐使用最新版Chrome、Edge等现代浏览器，分辨率建议1920x1080及以上
- 如有问题或建议请联系项目负责人：[liaojun2719]

## 快速开始

### 环境要求
- JDK: 17+
- Node.js: 16+
- MySQL: 8.4.0
- Redis: 6
- Maven: 3.8.8
- Yarn: 1.22+

### 开发环境搭建
1. 克隆项目
```bash
git clone https://github.com/hj01857655/community-pension-system.git
```

2. 后端服务启动
```bash
cd community-pension-admin
mvn spring-boot:run
```

3. 前端项目启动
```bash
cd community-pension-frontend
yarn install
yarn dev
```

## 部署指南
详见 [部署文档](./docs/deployment/README.md)

## 贡献指南
1. Fork 本仓库
2. 创建特性分支
3. 提交代码
4. 创建 Pull Request

## 版本历史
- v1.0.0 (2024-03) - 初始版本发布
- v1.1.0 (2024-05) - 完善服务工单全流程、服务评价多条件筛选、接口参数一致性修复、前后端联调优化

## 许可证
[MIT](LICENSE)

## 联系方式
- 项目负责人：[liaojun2719]
- 邮箱：[1299027544@qq.com]